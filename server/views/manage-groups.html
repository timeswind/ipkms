{% extends 'layout.html' %}

{% block title %}{% endblock %}

{% block content %}
<link rel="stylesheet" href="/css/teacher-ui.css">
<script type="text/javascript" src="/js/ng-app-home.js"></script>
<link rel="stylesheet" href="https://code.getmdl.io/1.1.1/material.teal-blue.min.css" />
<div>
  <div ng-app="ipkms" ng-controller="groupsManageController">
    <!-- The drawer is always open in large screens. The header is always shown,
    even in small screens. -->
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-drawer
    mdl-layout--fixed-header">
    <header class="mdl-layout__header">
      <div class="mdl-layout__header-row">
        <span class="mdl-layout-title">管理小組</span>
        <div class="mdl-layout-spacer">
        </div>
        <md-button style="color:#fff" ng-click="showNewGroupForm($event)">建立新小組</md-button>
        <div class="mdl-textfield mdl-js-textfield mdl-textfield--expandable
        mdl-textfield--floating-label mdl-textfield--align-right">
        <label class="mdl-button mdl-js-button mdl-button--icon"
        for="fixed-header-drawer-exp">
        <i class="material-icons">search</i>
      </label>
      <div class="mdl-textfield__expandable-holder">
        <input class="mdl-textfield__input" type="text" name="sample"
        id="fixed-header-drawer-exp">
      </div>
    </div>
  </div>
</header>

<div class="mdl-layout__drawer" teacher-side-drawer ></div>

<main class="mdl-layout__content" style='background: #f8f8f8;'>
  <md-progress-linear ng-if="grabingGroupsData" class="md-warn" md-mode="query"></md-progress-linear>
  <div class="mdl-grid">
    <div class="mdl-cell mdl-cell--4-col" ng-repeat="group in myGroups" ng-cloak>
      <div class="demo-card-event mdl-card mdl-shadow--2dp">
        <div style="color:#fff;background:#009688">
          <h6 style="text-align:right; margin-right:20px;" >
            <i class="material-icons"  style="font-size:16px;float:left;margin-left:20px;margin-top:3px">people</i>
            <a style="float:left;margin-left:5px;color:#fff">
              {[{group.group.students}]}</a>
              <i class="material-icons" ng-hide="group.group.public.boolean" style="font-size:12px">lock</i>
              {[{bTt(group.group.public.boolean)}]}</h6>
            </div>
            <div class="mdl-card__title mdl-card--expand" style="color:#fff;background:#009688">
              <h2 class="mdl-card__title-text">
                {[{group.group.name}]}
              </h2>
            </div>
            <div class="mdl-card__actions mdl-card--border">
              <a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect" ng-click="showGroupDialog($event, group.group)">查看小組
              </a>
              <div class="mdl-layout-spacer"></div>
              <!-- Right aligned menu on top of button  -->
              <md-menu md-position-mode="target-right target" style="padding:0">
                <md-button aria-label="Open demo menu" class="md-icon-button" ng-click="$mdOpenMenu($event)" style="margin-right:0">
                  <i class="material-icons" style="color:#009688">more_vert</i>
                </md-button>
                <md-menu-content width="2" >
                  <md-menu-item>
                    <md-button ng-click="deleteGroup(group.group._id)">
                      <div layout="row" style="color:#FF9800">
                        <i class="material-icons">close</i>
                        <p flex>關閉小組</p>
                      </div>
                    </md-button>
                  </md-menu-item>
                </md-menu-content>
              </md-menu>
            </div>
          </div>
        </div>

        <div class="mdl-cell mdl-cell--4-col">
          <div class="demo-card-event mdl-card" style="border:2px #9E9E9E dashed;background-color:rgba(216,216,216,0.1);cursor:pointer" ng-click="showNewGroupForm($event)">
            <i class="material-icons" style="text-align: center;vertical-align: middle;line-height: 200px;color:#9E9E9E;font-size:80px ">add</i>
          </div>
        </div>
      </div>


    </main>
  </div>


</div>
</div>

{% endblock %}
