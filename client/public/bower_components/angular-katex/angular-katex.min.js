/*!
 * angular-katex v0.9.0
 * https://github.com/tfoxy/angular-katex
 *
 * Copyright 2015 Tom√°s Fox
 * Released under the MIT license
 */
!function(){"use strict";function e(){return"undefined"!=typeof renderMathInElement?renderMathInElement:void 0}function n(e,n){function t(e,n){var t=angular.extend({},i.defaultOptions);return"options"in n&&angular.extend(t,e.$eval(n.options)),"katexOptions"in n&&angular.extend(t,e.$eval(n.katexOptions)),"displayMode"in n&&angular.extend(t,{displayMode:!0}),t}function r(e,n){return"onError"in n||"katexOnError"in n?function(t,r,i){e.$eval(n.onError||n.katexOnError,{$err:t,$expr:r,$setText:function(e){i.text(e)}})}:i.errorHandler}var i={$get:function(){return i},defaultOptions:{},errorElement:'<span class="katex-error"></span>',errorHandler:function(e,n,t){var r=angular.element(i.errorElement);r.text(e),t.children().remove(),t.append(r)},render:function(n,i,a,o){try{var u=t(a,o);e.render(i||"",n[0],u)}catch(d){r(a,o)(d,i,n)}},autoRender:function(e,i,a){try{var o=t(i,a);n(e[0],o)}catch(u){r(i,a)(u,null,e)}}};return i}function t(e,n){function t(t,a){if("bind"in a)return r;var o;if("expr"in a||a.katex){if(o=a.expr||a.katex,i(n,a)&&(o=angular.element("<div>"+o+"</div>").html()),"autoRender"in a||"katexAutoRender"in a)return t.text(o),void e.autoRender(t,n,a)}else{if("autoRender"in a||"katexAutoRender"in a)return void e.autoRender(t,n,a);o=i(n,a)?t.html():t.text()}e.render(t,o,n,a)}function r(n,t,r){"autoRender"in r||"katexAutoRender"in r?n.$watch(r.bind,function(i){a(n,r)?t.text(i):t.html(i),e.autoRender(t,n,r)}):n.$watch(r.bind,function(i){e.render(t,i,n,r)})}return{restrict:"AE",compile:t}}function r(e){return{restrict:"A",link:function(n,t,r){n.$watch(r.katexBind,function(i){"autoRender"in r||"katexAutoRender"in r?(t.text(i),e.autoRender(t,n,r)):e.render(t,i,n,r)})}}}function i(e,n){return"htmlMode"in n&&(!n.htmlMode||e.$eval(n.htmlMode))}function a(e,n){return"htmlMode"in n&&!e.$eval(n.htmlMode)}angular.module("katex",[]).constant("katex",katex).constant("renderMathInElement",e()).provider("katexConfig",n).directive("katex",t).directive("katexBind",r),n.$inject=["katex","renderMathInElement"],t.$inject=["katexConfig","$rootScope"],r.$inject=["katexConfig"]}();