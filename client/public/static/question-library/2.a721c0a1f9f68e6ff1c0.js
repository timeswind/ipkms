webpackJsonp([2],{5:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},6:function(t,e){var n=t.exports={version:"2.3.0"};"number"==typeof __e&&(__e=n)},7:function(t,e,n){var o=n(50)("wks"),i=n(35),r=n(5).Symbol,s="function"==typeof r,c=t.exports=function(t){return o[t]||(o[t]=s&&r[t]||(s?r:i)("Symbol."+t))};c.store=o},8:function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},9:function(t,e,n){var o=n(12),i=n(32);t.exports=n(10)?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},10:function(t,e,n){t.exports=!n(31)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},11:function(t,e,n){var o=n(88),i=n(30);t.exports=function(t){return o(i(t))}},12:function(t,e,n){var o=n(13),i=n(73),r=n(60),s=Object.defineProperty;e.f=n(10)?Object.defineProperty:function(t,e,n){if(o(t),e=r(e,!0),o(n),i)try{return s(t,e,n)}catch(c){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},13:function(t,e,n){var o=n(15);t.exports=function(t){if(!o(t))throw TypeError(t+" is not an object!");return t}},15:function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},16:function(t,e){t.exports={}},19:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={data:function(){return{spinnerActive:!0,myQcollections:[],loadMore:!1}},props:["show","qid"],methods:{closeModal:function(){this.show=!1},saveOneToCollection:function(t){if(t&&this.qid){var e={qcollection_id:t,question_id:this.qid};this.$http.post("/api/manage-qcollection/add-question",e).then(function(t){this.show=!1,this.showToast("添加成功")},function(t){this.showToast("失敗"),console.log(t)})}else this.showToast("發生錯誤")},getMyQcollectionLists:function(){0===this.myQcollections.length&&this.$http.get("/api/manage-qcollection/mine").then(function(t){this.spinnerActive=!1,t.data.length>0?(this.myQcollections=t.data,t.data.length<12?this.loadMore=!1:this.loadMore=!0):this.loadMore=!1},function(t){this.spinnerActive=!1,this.loadMore=!1,console.log(t)})},nextPage:function(){if(this.myQcollections.length>0){this.loadMore=!1;var t=this.myQcollections[this.myQcollections.length-1]._id;console.log(t);var e="/api/manage-qcollection/mine?page="+t;this.$http.get(e).then(function(t){if(t.data.length>0){for(var e=0;e<t.data.length;e++)this.myQcollections.push(t.data[e]);t.data.length<12?this.loadMore=!1:this.loadMore=!0}else this.loadMore=!1},function(t){this.loadMore=!0,console.log(t)})}},showToast:function(t){this.$dispatch("show-toast",t)}},events:{getMyQcollectionLists:function(){this.getMyQcollectionLists()}}}},20:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={props:{title:String,sheetshow:Boolean,center:Boolean}}},23:function(t,e,n){e=t.exports=n(2)(),e.push([t.id,"@media screen and (max-width:1024px){#select-qcollection{box-sizing:border-box}}@media screen and (min-width:1025px){#select-qcollection{box-sizing:border-box;padding-left:240px}}.modal-mask{position:fixed;z-index:9998;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.5)}#select-qcollection .modal-container{width:300px;margin:130px auto 0;padding:0;background-color:#fff;border-radius:2px;box-shadow:0 2px 8px rgba(0,0,0,.33)}.modal-header{padding:20px 0 0 20px;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;-ms-grid-row-align:center;align-items:center}.modal-header h4{margin:0;color:#2196f3}.modal-body{margin:20px 0;margin-bottom:0;max-height:360px;overflow:scroll}.modal-body::-webkit-scrollbar{-webkit-appearance:none;width:6px}.modal-body::-webkit-scrollbar-thumb{border-radius:0;background-color:#ccc;-webkit-box-shadow:0 0 1px hsla(0,0%,100%,.5)}.modal-footer{padding-right:20px;padding-bottom:10px}.list{padding:0;list-style:none;margin:0}.list li{-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;-ms-grid-row-align:center;align-items:center;padding:15px 20px;font-size:16px;cursor:pointer;background-image:-webkit-linear-gradient(top,#9e9e9e,#9e9e9e 51%,transparent 0);background-image:linear-gradient(180deg,#9e9e9e 0,#9e9e9e 51%,transparent 0);background-size:100% 1px;background-repeat:no-repeat}.list li:active{background-color:#eee}.list .subject-label{color:#e91e63;border:1px solid #e91e63;padding:2px 4px;font-size:13px;margin-right:8px}","",{version:3,sources:["/./src/components/reuseable/Select-qcollection.vue"],names:[],mappings:"AAEA,qCACE,oBACE,qBAAuB,CACxB,CACF,AAED,qCACE,oBACE,sBAAuB,AACvB,kBAAmB,CACpB,CACF,AAED,YACE,eAAgB,AAChB,aAAc,AACd,MAAO,AACP,OAAQ,AACR,WAAY,AACZ,YAAa,AACb,+BAAoC,CACrC,AAED,qCACE,YAAa,AACb,oBAAqB,AACrB,UAAW,AACX,sBAAuB,AACvB,kBAAmB,AACnB,oCAAyC,CAC1C,AAED,cACE,sBAAyB,AACzB,yBAA0B,AAC1B,2BAA4B,AACxB,sBAAuB,AACf,0BAA2B,AAC/B,kBAAmB,CAC5B,AAED,iBACE,SAAU,AACV,aAAe,CAChB,AAED,YACE,cAAe,AACf,gBAAiB,AACjB,iBAAkB,AAClB,eAAiB,CAClB,AAED,+BACE,wBAAyB,AACzB,SAAW,CACZ,AACD,qCACE,gBAAmB,AACnB,sBAAuB,AACvB,6CAAiD,CAClD,AAED,cACE,mBAAoB,AACpB,mBAAoB,CACrB,AAED,MACE,UAAa,AACb,gBAAiB,AACjB,QAAQ,CACT,AACD,SACE,yBAA0B,AAC1B,2BAA4B,AACxB,sBAAuB,AACf,0BAA2B,AAC/B,mBAAoB,AAC5B,kBAAmB,AACnB,eAAgB,AAChB,eAAgB,AAChB,gFAAyF,AACzF,6EAAuF,AACvF,yBAA0B,AAC1B,2BAA6B,CAC9B,AAED,gBACE,qBAAsB,CACvB,AAED,qBACE,cAAe,AACf,yBAA0B,AAC1B,gBAAiB,AACjB,eAAgB,AAChB,gBAAiB,CAClB",file:"Select-qcollection.vue",sourcesContent:["\n\n@media screen and (max-width: 1024px) {\n  #select-qcollection {\n    box-sizing: border-box;\n  }\n}\n\n@media screen and (min-width: 1025px) {\n  #select-qcollection {\n    box-sizing: border-box;\n    padding-left: 240px\n  }\n}\n\n.modal-mask {\n  position: fixed;\n  z-index: 9998;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, .5);\n}\n\n#select-qcollection .modal-container {\n  width: 300px;\n  margin: 130px auto 0;\n  padding: 0;\n  background-color: #fff;\n  border-radius: 2px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, .33);\n}\n\n.modal-header {\n  padding: 20px 0px 0 20px;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n      -ms-flex-align: center;\n              -ms-grid-row-align: center;\n          align-items: center\n}\n\n.modal-header h4 {\n  margin: 0;\n  color: #2196F3;\n}\n\n.modal-body {\n  margin: 20px 0;\n  margin-bottom: 0;\n  max-height: 360px;\n  overflow: scroll;\n}\n\n.modal-body::-webkit-scrollbar {\n  -webkit-appearance: none;\n  width: 6px;\n}\n.modal-body::-webkit-scrollbar-thumb {\n  border-radius: 0px;\n  background-color: #ccc;\n  -webkit-box-shadow: 0 0 1px rgba(255,255,255,.5);\n}\n\n.modal-footer{\n  padding-right: 20px;\n  padding-bottom: 10px\n}\n\n.list {\n  padding: 0px;\n  list-style: none;\n  margin:0\n}\n.list li {\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n      -ms-flex-align: center;\n              -ms-grid-row-align: center;\n          align-items: center;\n  padding: 15px 20px;\n  font-size: 16px;\n  cursor: pointer;\n  background-image: -webkit-linear-gradient(top, #9E9E9E 0%, #9E9E9E 51%, transparent 51%);\n  background-image: linear-gradient(to bottom, #9E9E9E 0%, #9E9E9E 51%, transparent 51%);\n  background-size: 100% 1px;\n  background-repeat: no-repeat;\n}\n\n.list li:active {\n  background-color: #eee\n}\n\n.list .subject-label {\n  color: #E91E63;\n  border: 1px solid #E91E63;\n  padding: 2px 4px;\n  font-size: 13px;\n  margin-right: 8px\n}\n\n"],sourceRoot:"webpack://"}])},24:function(t,e,n){e=t.exports=n(2)(),e.push([t.id,"#sheet-pannel{background-color:#fff;padding:16px 32px;box-shadow:0 1px 6px rgba(0,0,0,.35)}#sheet-pannel .justify-center{-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}","",{version:3,sources:["/./src/components/reuseable/Sheet-pannel.vue"],names:[],mappings:"AACA,cACE,sBAAuB,AACvB,kBAAmB,AACnB,oCAAsC,CACvC,AAED,8BACE,wBAAyB,AACzB,+BAAgC,AAC5B,qBAAsB,AAClB,sBAAwB,CACjC",file:"Sheet-pannel.vue",sourcesContent:["\n#sheet-pannel {\n  background-color: #fff;\n  padding: 16px 32px;\n  box-shadow: 0 1px 6px rgba(0,0,0,0.35)\n}\n\n#sheet-pannel .justify-center {\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n\n"],sourceRoot:"webpack://"}])},27:function(t,e,n){var o=n(23);"string"==typeof o&&(o=[[t.id,o,""]]);n(3)(o,{});o.locals&&(t.exports=o.locals)},28:function(t,e,n){var o=n(24);"string"==typeof o&&(o=[[t.id,o,""]]);n(3)(o,{});o.locals&&(t.exports=o.locals)},30:function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},31:function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},32:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},33:function(t,e,n){var o=n(50)("keys"),i=n(35);t.exports=function(t){return o[t]||(o[t]=i(t))}},34:function(t,e){var n=Math.ceil,o=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?o:n)(t)}},35:function(t,e){var n=0,o=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+o).toString(36))}},38:function(t,e){t.exports='<div id=select-qcollection class=modal-mask v-show=show transition=modal> <div class=modal-container> <div class="modal-header flex-row"> <h4>加入題集</h4> <span class=flex style="flex: 1"></span> <mdl-button class=close @click=closeModal()> <i class=material-icons>close</i> </mdl-button> </div> <p style="text-align:center;margin:16px 0"> <mdl-spinner :active=spinnerActive v-show=spinnerActive></mdl-spinner> </p> <div class=modal-body> <ul class=list> <li class=flex-row v-for="qc in myQcollections" track-by=_id @click=saveOneToCollection(qc._id)> <span class=subject-label>{{qc.subject | subject}}</span> <span>{{qc.name}}</span> </li> </ul> <div class="flex-column flex-center" style="margin:16px 0"> <mdl-button raised primary @click=nextPage() :disabled=!loadMore>加載更多 </mdl-button></div> </div> </div> </div>'},39:function(t,e){t.exports='<div id=sheet-pannel> <div class="flex-row flex-center" :class="{\'justify-center\': center}"> <slot name=sheet-title></slot> <div class="flex-column flex-center"> <slot name=sheet-button></slot> <slot name=button-subtitle></slot> </div> </div> <div id=sheet-zone v-show=sheetshow transition=expand> <slot name=sheet-zone></slot> </div> </div>'},42:function(t,e,n){var o,i;n(27),o=n(19),i=n(38),t.exports=o||{},t.exports.__esModule&&(t.exports=t.exports["default"]),i&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=i)},43:function(t,e,n){var o,i;n(28),o=n(20),i=n(39),t.exports=o||{},t.exports.__esModule&&(t.exports=t.exports["default"]),i&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=i)},47:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},48:function(t,e,n){var o=n(75),i=n(47);t.exports=Object.keys||function(t){return o(t,i)}},49:function(t,e,n){var o=n(12).f,i=n(8),r=n(7)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,r)&&o(t,r,{configurable:!0,value:e})}},50:function(t,e,n){var o=n(5),i="__core-js_shared__",r=o[i]||(o[i]={});t.exports=function(t){return r[t]||(r[t]={})}},56:function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},57:function(t,e,n){var o=n(15),i=n(5).document,r=o(i)&&o(i.createElement);t.exports=function(t){return r?i.createElement(t):{}}},58:function(t,e,n){"use strict";var o=n(59),i=n(72),r=n(76),s=n(9),c=n(8),a=n(16),l=n(89),u=n(49),d=n(92),f=n(7)("iterator"),p=!([].keys&&"next"in[].keys()),A="@@iterator",h="keys",g="values",v=function(){return this};t.exports=function(t,e,n,m,x,b,y){l(n,e,m);var C,B,w,k=function(t){if(!p&&t in j)return j[t];switch(t){case h:return function(){return new n(this,t)};case g:return function(){return new n(this,t)}}return function(){return new n(this,t)}},q=e+" Iterator",_=x==g,E=!1,j=t.prototype,M=j[f]||j[A]||x&&j[x],O=M||k(x),S=x?_?k("entries"):O:void 0,D="Array"==e?j.entries||M:M;if(D&&(w=d(D.call(new t)),w!==Object.prototype&&(u(w,q,!0),o||c(w,f)||s(w,f,v))),_&&M&&M.name!==g&&(E=!0,O=function(){return M.call(this)}),o&&!y||!p&&!E&&j[f]||s(j,f,O),a[e]=O,a[q]=v,x)if(C={values:_?O:k(g),keys:b?O:k(h),entries:S},y)for(B in C)B in j||r(j,B,C[B]);else i(i.P+i.F*(p||E),e,C);return C}},59:function(t,e){t.exports=!0},60:function(t,e,n){var o=n(15);t.exports=function(t,e){if(!o(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!o(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!o(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!o(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},72:function(t,e,n){var o=n(5),i=n(6),r=n(86),s=n(9),c="prototype",a=function(t,e,n){var l,u,d,f=t&a.F,p=t&a.G,A=t&a.S,h=t&a.P,g=t&a.B,v=t&a.W,m=p?i:i[e]||(i[e]={}),x=m[c],b=p?o:A?o[e]:(o[e]||{})[c];p&&(n=e);for(l in n)u=!f&&b&&void 0!==b[l],u&&l in m||(d=u?b[l]:n[l],m[l]=p&&"function"!=typeof b[l]?n[l]:g&&u?r(d,o):v&&b[l]==d?function(t){var e=function(e,n,o){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,o)}return t.apply(this,arguments)};return e[c]=t[c],e}(d):h&&"function"==typeof d?r(Function.call,d):d,h&&((m.virtual||(m.virtual={}))[l]=d,t&a.R&&x&&!x[l]&&s(x,l,d)))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,t.exports=a},73:function(t,e,n){t.exports=!n(10)&&!n(31)(function(){return 7!=Object.defineProperty(n(57)("div"),"a",{get:function(){return 7}}).a})},74:function(t,e,n){var o=n(13),i=n(91),r=n(47),s=n(33)("IE_PROTO"),c=function(){},a="prototype",l=function(){var t,e=n(57)("iframe"),o=r.length,i=">";for(e.style.display="none",n(87).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write("<script>document.F=Object</script"+i),t.close(),l=t.F;o--;)delete l[a][r[o]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(c[a]=o(t),n=new c,c[a]=null,n[s]=t):n=l(),void 0===e?n:i(n,e)}},75:function(t,e,n){var o=n(8),i=n(11),r=n(85)(!1),s=n(33)("IE_PROTO");t.exports=function(t,e){var n,c=i(t),a=0,l=[];for(n in c)n!=s&&o(c,n)&&l.push(n);for(;e.length>a;)o(c,n=e[a++])&&(~r(l,n)||l.push(n));return l}},76:function(t,e,n){t.exports=n(9)},83:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},84:function(t,e){t.exports=function(){}},85:function(t,e,n){var o=n(11),i=n(96),r=n(95);t.exports=function(t){return function(e,n,s){var c,a=o(e),l=i(a.length),u=r(s,l);if(t&&n!=n){for(;l>u;)if(c=a[u++],c!=c)return!0}else for(;l>u;u++)if((t||u in a)&&a[u]===n)return t||u||0;return!t&&-1}}},86:function(t,e,n){var o=n(83);t.exports=function(t,e,n){if(o(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,o){return t.call(e,n,o)};case 3:return function(n,o,i){return t.call(e,n,o,i)}}return function(){return t.apply(e,arguments)}}},87:function(t,e,n){t.exports=n(5).document&&document.documentElement},88:function(t,e,n){var o=n(56);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==o(t)?t.split(""):Object(t)}},89:function(t,e,n){"use strict";var o=n(74),i=n(32),r=n(49),s={};n(9)(s,n(7)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=o(s,{next:i(1,n)}),r(t,e+" Iterator")}},90:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},91:function(t,e,n){var o=n(12),i=n(13),r=n(48);t.exports=n(10)?Object.defineProperties:function(t,e){i(t);for(var n,s=r(e),c=s.length,a=0;c>a;)o.f(t,n=s[a++],e[n]);return t}},92:function(t,e,n){var o=n(8),i=n(97),r=n(33)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),o(t,r)?t[r]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},94:function(t,e,n){var o=n(34),i=n(30);t.exports=function(t){return function(e,n){var r,s,c=String(i(e)),a=o(n),l=c.length;return 0>a||a>=l?t?"":void 0:(r=c.charCodeAt(a),55296>r||r>56319||a+1===l||(s=c.charCodeAt(a+1))<56320||s>57343?t?c.charAt(a):r:t?c.slice(a,a+2):(r-55296<<10)+(s-56320)+65536)}}},95:function(t,e,n){var o=n(34),i=Math.max,r=Math.min;t.exports=function(t,e){return t=o(t),0>t?i(t+e,0):r(t,e)}},96:function(t,e,n){var o=n(34),i=Math.min;t.exports=function(t){return t>0?i(o(t),9007199254740991):0}},97:function(t,e,n){var o=n(30);t.exports=function(t){return Object(o(t))}},100:function(t,e,n){"use strict";var o=n(84),i=n(90),r=n(16),s=n(11);t.exports=n(58)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):"keys"==e?i(0,n):"values"==e?i(0,t[n]):i(0,[n,t[n]])},"values"),r.Arguments=r.Array,o("keys"),o("values"),o("entries")},101:function(t,e,n){"use strict";var o=n(94)(!0);n(58)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=o(e,n),this._i+=t.length,{value:t,done:!1})})},102:function(t,e,n){n(100);for(var o=n(5),i=n(9),r=n(16),s=n(7)("toStringTag"),c=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],a=0;5>a;a++){var l=c[a],u=o[l],d=u&&u.prototype;d&&!d[s]&&i(d,s,l),r[l]=r.Array}},269:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(318),r=o(i),s=n(42),c=o(s),a=n(43),l=o(a),u=n(17),d=o(u);e["default"]={ready:function(){this.getQuestions()},components:{Subject:d["default"],qcollectionSelectorModal:c["default"],sheetPannel:l["default"]},methods:{deleteCollection:function(){var t=window.confirm("你確定要刪除這個題集？");if(t){var e={qcollection_id:this.details._id},n="/api/manage-qcollection/delete/single";this.$http["delete"](n,e).then(function(t){this.$router.go({name:"my-qcollection"})},function(t){console.log("fail to delete this qcollection")})}},getQuestions:function(){var t=this.$route.params.qcollection_id,e="/api/manage-qcollection/detail/"+t;this.$http.get(e).then(function(t){this.details=t.data,this.averageDifficulty=this.calculateAverageDifficulty(),this.renderQuestions()},function(t){console.log(t)})},renderQuestions:function(){setTimeout(function(){window.renderMathInElement(document.getElementById("questions-preview-container"),{delimiters:[{left:"$$",right:"$$",display:!1}]})},0)},showCollectionModal:function(t){this.$broadcast("getMyQcollectionLists"),this.CollectionModal.show=!0,this.CollectionModal.qid=t},showSheetZone:function(){this.sheetshow=!0},removeOneQuestion:function(t,e){var n=window.confirm("你確定要從題集里移除這個題目？");if(n){var o={qcollection_id:this.details._id,question_id:t},i="/api/manage-qcollection/remove-question";this.$http["delete"](i,o).then(function(t){this.details.questions.splice(e,1)},function(t){console.log("fail to remove this question")})}},updateQcollectionInfo:function(){var t={qcollection_id:this.details._id,name:this.details.name,subject:this.details.subject,"public":this.details["public"]},e="/api/manage-qcollection/update-info";this.$http.put(e,t).then(function(t){this.sheetshow=!1},function(t){console.log("fail to update this qcollection")})},updateDifficulty:function(t){var e={qcollection_id:this.details._id,aveDifficulty:t},n="/api/manage-qcollection/update-difficulty";this.$http.put(n,e).then(function(t){},function(t){console.log("fail to update this qcollection")})},calculateAverageDifficulty:function(){var t=0,e=0;if(0!==this.details.questions.length){var n=!0,o=!1,i=void 0;try{for(var s,c=(0,r["default"])(this.details.questions);!(n=(s=c.next()).done);n=!0){var a=s.value;isNaN(a.difficulty)||(t+=a.difficulty)}}catch(l){o=!0,i=l}finally{try{!n&&c["return"]&&c["return"]()}finally{if(o)throw i}}return e=t/this.details.questions.length,e=Math.round(100*e)/100,console.log(e),this.details.aveDifficulty?this.details.aveDifficulty!==e&&this.updateDifficulty(e):this.updateDifficulty(e),e}return 0},getNumberArray:function(t){return new Array(t)}},data:function(){return{sheetshow:!1,CollectionModal:{show:!1,qid:void 0},details:{"public":!1},averageDifficulty:0,subjects:d["default"].subjects}}}},318:function(t,e,n){t.exports={"default":n(322),__esModule:!0}},322:function(t,e,n){n(102),n(101),t.exports=n(333)},325:function(t,e,n){var o=n(56),i=n(7)("toStringTag"),r="Arguments"==o(function(){return arguments}()),s=function(t,e){try{return t[e]}catch(n){}};t.exports=function(t){var e,n,c;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=s(e=Object(t),i))?n:r?o(e):"Object"==(c=o(e))&&"function"==typeof e.callee?"Arguments":c}},332:function(t,e,n){var o=n(325),i=n(7)("iterator"),r=n(16);t.exports=n(6).getIteratorMethod=function(t){return void 0!=t?t[i]||t["@@iterator"]||r[o(t)]:void 0}},333:function(t,e,n){var o=n(13),i=n(332);t.exports=n(6).getIterator=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return o(e.call(t))}},417:function(t,e){t.exports='<div id=qcollection-detail> <sheet-pannel :sheetshow.sync=sheetshow> <div slot=sheet-title> <h4 style=margin:0;margin-right:10px>{{details.name}}</h4> </div> <div slot=sheet-button> <mdl-button primary raised v-on:click=showSheetZone() class=sheet-button v-show=!sheetshow> 修改题集信息 </mdl-button> <mdl-button accent v-on:click=deleteCollection() class=sheet-button v-show=sheetshow> 刪除題集 </mdl-button> </div> <div slot=sheet-zone> <div class=block> <mdl-textfield :value.sync=details.name>{{details.name}}</mdl-textfield> </div> <div class=block> 科目： <select v-model=details.subject> <option v-for="subject in subjects" v-bind:value=subject.id> {{ subject.name }} </option> </select> </div> <div class=block style="padding:20px 0"> <mdl-switch :checked.sync=details.public>公開</mdl-switch> </div> <mdl-button accent raised @click=updateQcollectionInfo()> 修改 </mdl-button> <mdl-button @click="sheetshow = false"> 關閉 </mdl-button> </div> </sheet-pannel> <qcollection-selector-modal :show.sync=CollectionModal.show :qid=CollectionModal.qid></qcollection-selector-modal> <p class=qc-d-average-difficulty>平均難度：{{averageDifficulty}}</p> <div class=mdl-grid id=questions-preview-container> <div class="mdl-cell mdl-cell--4-col question-card" v-for="q in details.questions"> <div class=question-wrapper v-link="{ name: \'question-detail\', params: { question_id: q._id }}"> <span class=q-subject>{{q.subject | subject}}</span> <span class=q-type>{{q.type}}</span> <div class=q-difficulty> <i class=material-icons v-for="i in getNumberArray(q.difficulty)" track-by=$index>star_rate</i> </div> <p class=qc-context>{{{q.context}}}</p> <span class=q-tag v-for="tag in q.tags">{{tag}}</span> </div> <div class=question-tools> <mdl-button v-on:click=showCollectionModal(q._id)><i class=material-icons>add</i>加入其他題集</mdl-button> <mdl-button v-on:click="removeOneQuestion(q._id, $index)"><i class=material-icons>close</i>移除</mdl-button> </div> </div> </div> </div>'},439:function(t,e,n){var o,i;o=n(269),i=n(417),t.exports=o||{},t.exports.__esModule&&(t.exports=t.exports["default"]),i&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=i)}});
//# sourceMappingURL=2.a721c0a1f9f68e6ff1c0.js.map